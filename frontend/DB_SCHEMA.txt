-- USERS / ROLES (marketplace)
CREATE TABLE users (
  id CHAR(36) PRIMARY KEY,
  name VARCHAR(120) NOT NULL,
  email VARCHAR(190) UNIQUE NOT NULL,
  password VARCHAR(255) NOT NULL,
  role VARCHAR(20) NOT NULL, -- admin, seller, customer
  created_at DATETIME NOT NULL,
  updated_at DATETIME NOT NULL
);

-- SHOPS (boutiques publiques)
CREATE TABLE shops (
  id CHAR(36) PRIMARY KEY,
  owner_id CHAR(36) NOT NULL,
  name VARCHAR(120) NOT NULL,
  slug VARCHAR(120) UNIQUE NOT NULL,
  description TEXT NULL,
  logo_url VARCHAR(500) NULL,
  banner_url VARCHAR(500) NULL,
  policies TEXT NULL,
  created_at DATETIME NOT NULL,
  updated_at DATETIME NOT NULL,
  FOREIGN KEY (owner_id) REFERENCES users(id)
);

-- ABONNEMENTS / PLANS
CREATE TABLE plans (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  name VARCHAR(50) UNIQUE NOT NULL, -- Starter/Pro/Scale
  product_limit INT NULL,           -- NULL = illimité
  price_monthly DECIMAL(10,2) NOT NULL
);

CREATE TABLE subscriptions (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  shop_id CHAR(36) NOT NULL,
  plan_id BIGINT NOT NULL,
  status VARCHAR(20) NOT NULL, -- active, trial, canceled, past_due
  started_at DATETIME NOT NULL,
  ends_at DATETIME NULL,
  FOREIGN KEY (shop_id) REFERENCES shops(id),
  FOREIGN KEY (plan_id) REFERENCES plans(id)
);

-- CATEGORIES / ATTRIBUTES (catalogue)
CREATE TABLE categories (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  parent_id BIGINT NULL,
  name VARCHAR(120) NOT NULL,
  slug VARCHAR(120) UNIQUE NOT NULL
);

CREATE TABLE attributes (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  name VARCHAR(120) NOT NULL
);

CREATE TABLE attribute_values (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  attribute_id BIGINT NOT NULL,
  value VARCHAR(120) NOT NULL,
  FOREIGN KEY (attribute_id) REFERENCES attributes(id)
);

-- PRODUITS (marketplace)
CREATE TABLE products (
  id CHAR(36) PRIMARY KEY,
  shop_id CHAR(36) NOT NULL,
  category_id BIGINT NOT NULL,
  title VARCHAR(255) NOT NULL,
  description TEXT NOT NULL,
  price DECIMAL(10,2) NOT NULL,
  status VARCHAR(20) NOT NULL, -- draft, published, archived
  sku VARCHAR(64) UNIQUE NOT NULL,
  created_at DATETIME NOT NULL,
  updated_at DATETIME NOT NULL,
  FOREIGN KEY (shop_id) REFERENCES shops(id),
  FOREIGN KEY (category_id) REFERENCES categories(id)
);

CREATE TABLE product_variants (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  product_id CHAR(36) NOT NULL,
  title VARCHAR(120) NULL,
  price DECIMAL(10,2) NOT NULL,
  stock INT NOT NULL DEFAULT 0,
  sku VARCHAR(64) UNIQUE NOT NULL,
  FOREIGN KEY (product_id) REFERENCES products(id)
);

CREATE TABLE product_images (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  product_id CHAR(36) NOT NULL,
  url VARCHAR(500) NOT NULL,
  position INT NOT NULL DEFAULT 0,
  FOREIGN KEY (product_id) REFERENCES products(id)
);

CREATE TABLE product_attribute_values (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  product_id CHAR(36) NOT NULL,
  attribute_value_id BIGINT NOT NULL,
  FOREIGN KEY (product_id) REFERENCES products(id),
  FOREIGN KEY (attribute_value_id) REFERENCES attribute_values(id)
);

-- CART / CHECKOUT
CREATE TABLE carts (
  id CHAR(36) PRIMARY KEY,
  user_id CHAR(36) NOT NULL,
  created_at DATETIME NOT NULL,
  FOREIGN KEY (user_id) REFERENCES users(id)
);

CREATE TABLE cart_items (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  cart_id CHAR(36) NOT NULL,
  product_id CHAR(36) NOT NULL,
  variant_id BIGINT NULL,
  quantity INT NOT NULL,
  FOREIGN KEY (cart_id) REFERENCES carts(id),
  FOREIGN KEY (product_id) REFERENCES products(id),
  FOREIGN KEY (variant_id) REFERENCES product_variants(id)
);

-- ORDERS / PAYMENTS / SHIPMENTS (marketplace)
CREATE TABLE orders (
  id CHAR(36) PRIMARY KEY,
  user_id CHAR(36) NOT NULL,
  status VARCHAR(20) NOT NULL, -- pending, paid, shipped, delivered, canceled
  total DECIMAL(10,2) NOT NULL,
  created_at DATETIME NOT NULL,
  updated_at DATETIME NOT NULL,
  FOREIGN KEY (user_id) REFERENCES users(id)
);

CREATE TABLE order_items (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  order_id CHAR(36) NOT NULL,
  shop_id CHAR(36) NOT NULL,
  product_id CHAR(36) NOT NULL,
  variant_id BIGINT NULL,
  price DECIMAL(10,2) NOT NULL,
  quantity INT NOT NULL,
  FOREIGN KEY (order_id) REFERENCES orders(id),
  FOREIGN KEY (shop_id) REFERENCES shops(id),
  FOREIGN KEY (product_id) REFERENCES products(id),
  FOREIGN KEY (variant_id) REFERENCES product_variants(id)
);

CREATE TABLE shipments (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  order_id CHAR(36) NOT NULL,
  carrier VARCHAR(120) NULL,
  tracking_number VARCHAR(120) NULL,
  status VARCHAR(20) NOT NULL,
  shipped_at DATETIME NULL,
  delivered_at DATETIME NULL,
  FOREIGN KEY (order_id) REFERENCES orders(id)
);

CREATE TABLE payments (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  order_id CHAR(36) NOT NULL,
  provider VARCHAR(50) NOT NULL, -- stripe/paypal
  amount DECIMAL(10,2) NOT NULL,
  status VARCHAR(20) NOT NULL,
  created_at DATETIME NOT NULL,
  FOREIGN KEY (order_id) REFERENCES orders(id)
);

-- REVIEWS
CREATE TABLE reviews (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  product_id CHAR(36) NOT NULL,
  user_id CHAR(36) NOT NULL,
  rating INT NOT NULL,
  comment TEXT NULL,
  created_at DATETIME NOT NULL,
  FOREIGN KEY (product_id) REFERENCES products(id),
  FOREIGN KEY (user_id) REFERENCES users(id)
);

-- MESSAGING (marketplace client <-> shop)
CREATE TABLE conversations (
  id CHAR(36) PRIMARY KEY,
  shop_id CHAR(36) NOT NULL,
  user_id CHAR(36) NOT NULL,
  last_message TEXT NULL,
  updated_at DATETIME NOT NULL,
  FOREIGN KEY (shop_id) REFERENCES shops(id),
  FOREIGN KEY (user_id) REFERENCES users(id)
);

CREATE TABLE messages (
  id CHAR(36) PRIMARY KEY,
  conversation_id CHAR(36) NOT NULL,
  sender_id CHAR(36) NOT NULL,
  content TEXT NOT NULL,
  created_at DATETIME NOT NULL,
  FOREIGN KEY (conversation_id) REFERENCES conversations(id),
  FOREIGN KEY (sender_id) REFERENCES users(id)
);

-- NOTIFICATIONS (marketplace)
CREATE TABLE notifications (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  user_id CHAR(36) NOT NULL,
  type VARCHAR(50) NOT NULL,
  data_json JSON NOT NULL,
  created_at DATETIME NOT NULL,
  FOREIGN KEY (user_id) REFERENCES users(id)
);

-- COUPONS / PROMOS
CREATE TABLE coupons (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  code VARCHAR(50) UNIQUE NOT NULL,
  discount_type VARCHAR(20) NOT NULL, -- percent/fixed
  discount_value DECIMAL(10,2) NOT NULL,
  starts_at DATETIME NULL,
  ends_at DATETIME NULL,
  max_uses INT NULL
);

-- DISPUTES
CREATE TABLE disputes (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  order_id CHAR(36) NOT NULL,
  status VARCHAR(20) NOT NULL,
  reason TEXT NOT NULL,
  created_at DATETIME NOT NULL,
  FOREIGN KEY (order_id) REFERENCES orders(id)
);

-- CMS / PAGES
CREATE TABLE pages (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  title VARCHAR(120) NOT NULL,
  slug VARCHAR(120) UNIQUE NOT NULL,
  content TEXT NOT NULL,
  updated_at DATETIME NOT NULL
);

-----------------------------------------------------------
-- SELLER PANEL (ex Vinted) : tables existantes renommées
-----------------------------------------------------------

CREATE TABLE seller_accounts (
  id CHAR(36) PRIMARY KEY,
  shop_id CHAR(36) NULL,
  name VARCHAR(120) NOT NULL,
  username VARCHAR(120) NOT NULL,
  email VARCHAR(190) NOT NULL,
  password_hash VARCHAR(255) NULL,
  avatar VARCHAR(8) NULL,
  is_connected TINYINT(1) NOT NULL DEFAULT 0,
  is_running TINYINT(1) NOT NULL DEFAULT 0,
  proxy_host VARCHAR(190) NULL,
  proxy_port VARCHAR(20) NULL,
  proxy_user VARCHAR(120) NULL,
  proxy_password VARCHAR(120) NULL,
  vnc_password VARCHAR(120) NULL,
  created_at DATETIME NOT NULL,
  last_session_start DATETIME NULL,
  updated_at DATETIME NULL,
  FOREIGN KEY (shop_id) REFERENCES shops(id)
);

CREATE TABLE seller_products (
  id CHAR(36) PRIMARY KEY,
  shop_id CHAR(36) NULL,
  sku VARCHAR(64) UNIQUE NOT NULL,
  title VARCHAR(255) NOT NULL,
  description TEXT NOT NULL,
  category VARCHAR(120) NOT NULL,
  brand VARCHAR(120) NULL,
  condition_status VARCHAR(40) NOT NULL,
  size VARCHAR(80) NOT NULL,
  price DECIMAL(10,2) NOT NULL,
  purchase_cost DECIMAL(10,2) NULL,
  last_price DECIMAL(10,2) NULL,
  quantity INT NOT NULL DEFAULT 1,
  package_size VARCHAR(20) NOT NULL,
  status VARCHAR(30) NOT NULL,
  internal_notes TEXT NULL,
  created_at DATETIME NOT NULL,
  updated_at DATETIME NOT NULL,
  FOREIGN KEY (shop_id) REFERENCES shops(id)
);

CREATE TABLE seller_product_photos (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  product_id CHAR(36) NOT NULL,
  url VARCHAR(500) NOT NULL,
  position INT NOT NULL DEFAULT 0,
  FOREIGN KEY (product_id) REFERENCES seller_products(id)
);

CREATE TABLE seller_product_materials (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  product_id CHAR(36) NOT NULL,
  material VARCHAR(80) NOT NULL,
  FOREIGN KEY (product_id) REFERENCES seller_products(id)
);

CREATE TABLE seller_product_colors (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  product_id CHAR(36) NOT NULL,
  color VARCHAR(80) NOT NULL,
  FOREIGN KEY (product_id) REFERENCES seller_products(id)
);

CREATE TABLE seller_product_publish_attempts (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  product_id CHAR(36) NOT NULL,
  seller_account_id CHAR(36) NOT NULL,
  status VARCHAR(20) NOT NULL,
  error_message VARCHAR(255) NULL,
  created_at DATETIME NOT NULL,
  FOREIGN KEY (product_id) REFERENCES seller_products(id),
  FOREIGN KEY (seller_account_id) REFERENCES seller_accounts(id)
);

CREATE TABLE seller_listings (
  id CHAR(36) PRIMARY KEY,
  listing_id VARCHAR(120) NOT NULL,
  product_sku VARCHAR(64) NOT NULL,
  title VARCHAR(255) NOT NULL,
  photo_url VARCHAR(500) NOT NULL,
  seller_account_id CHAR(36) NOT NULL,
  price DECIMAL(10,2) NOT NULL,
  status VARCHAR(30) NOT NULL,
  created_at DATETIME NOT NULL,
  last_sync DATETIME NOT NULL,
  error_message VARCHAR(255) NULL,
  FOREIGN KEY (seller_account_id) REFERENCES seller_accounts(id)
);

CREATE TABLE seller_published_listings (
  id CHAR(36) PRIMARY KEY,
  product_id CHAR(36) NULL,
  sku VARCHAR(64) NOT NULL,
  title VARCHAR(255) NOT NULL,
  description TEXT NOT NULL,
  category VARCHAR(120) NOT NULL,
  brand VARCHAR(120) NULL,
  condition_status VARCHAR(40) NOT NULL,
  material VARCHAR(120) NULL,
  size VARCHAR(80) NOT NULL,
  price DECIMAL(10,2) NOT NULL,
  package_size VARCHAR(20) NOT NULL,
  seller_account_id CHAR(36) NOT NULL,
  vinted_listing_id VARCHAR(120) NOT NULL,
  vinted_url VARCHAR(500) NOT NULL,
  status VARCHAR(20) NOT NULL,
  published_date DATETIME NOT NULL,
  last_sync_date DATETIME NOT NULL,
  boost_active TINYINT(1) NOT NULL DEFAULT 0,
  is_hidden TINYINT(1) NOT NULL DEFAULT 0,
  FOREIGN KEY (seller_account_id) REFERENCES seller_accounts(id),
  FOREIGN KEY (product_id) REFERENCES seller_products(id)
);

CREATE TABLE seller_published_listing_photos (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  published_listing_id CHAR(36) NOT NULL,
  url VARCHAR(500) NOT NULL,
  position INT NOT NULL DEFAULT 0,
  FOREIGN KEY (published_listing_id) REFERENCES seller_published_listings(id)
);

CREATE TABLE seller_listing_analytics (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  published_listing_id CHAR(36) NOT NULL,
  views INT NOT NULL DEFAULT 0,
  favorites INT NOT NULL DEFAULT 0,
  offers INT NOT NULL DEFAULT 0,
  avg_offer_price DECIMAL(10,2) NOT NULL DEFAULT 0,
  best_offer_price DECIMAL(10,2) NOT NULL DEFAULT 0,
  lowest_offer_price DECIMAL(10,2) NOT NULL DEFAULT 0,
  views_trend DECIMAL(6,2) NOT NULL DEFAULT 0,
  favorites_trend DECIMAL(6,2) NOT NULL DEFAULT 0,
  created_at DATETIME NOT NULL,
  FOREIGN KEY (published_listing_id) REFERENCES seller_published_listings(id)
);

CREATE TABLE seller_listing_analytics_history (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  published_listing_id CHAR(36) NOT NULL,
  metric VARCHAR(20) NOT NULL,
  value INT NOT NULL,
  recorded_at DATETIME NOT NULL,
  FOREIGN KEY (published_listing_id) REFERENCES seller_published_listings(id)
);

CREATE TABLE seller_listing_insights (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  published_listing_id CHAR(36) NOT NULL,
  insight_type VARCHAR(40) NOT NULL,
  severity VARCHAR(20) NOT NULL,
  data_json JSON NULL,
  created_at DATETIME NOT NULL,
  FOREIGN KEY (published_listing_id) REFERENCES seller_published_listings(id)
);

CREATE TABLE seller_orders (
  id CHAR(36) PRIMARY KEY,
  order_id VARCHAR(120) NOT NULL,
  order_type VARCHAR(20) NOT NULL,
  source VARCHAR(20) NULL,
  seller_account_id CHAR(36) NOT NULL,
  title VARCHAR(255) NOT NULL,
  sku VARCHAR(64) NULL,
  price DECIMAL(10,2) NOT NULL,
  status VARCHAR(30) NOT NULL,
  category VARCHAR(30) NOT NULL,
  thumbnail_url VARCHAR(500) NOT NULL,
  buyer_name VARCHAR(120) NOT NULL,
  buyer_username VARCHAR(120) NOT NULL,
  seller_name VARCHAR(120) NULL,
  seller_username VARCHAR(120) NULL,
  created_at DATETIME NOT NULL,
  updated_at DATETIME NOT NULL,
  shipping_street VARCHAR(190) NULL,
  shipping_city VARCHAR(120) NULL,
  shipping_postal_code VARCHAR(20) NULL,
  shipping_country VARCHAR(80) NULL,
  fees_item_price DECIMAL(10,2) NOT NULL DEFAULT 0,
  fees_shipping_fee DECIMAL(10,2) NOT NULL DEFAULT 0,
  fees_service_fee DECIMAL(10,2) NOT NULL DEFAULT 0,
  fees_total DECIMAL(10,2) NOT NULL DEFAULT 0,
  processed TINYINT(1) NOT NULL DEFAULT 0,
  purchase_cost DECIMAL(10,2) NULL,
  quantity INT NULL,
  tracking_number VARCHAR(120) NULL,
  tracking_carrier VARCHAR(120) NULL,
  tracking_url VARCHAR(500) NULL,
  is_bundle TINYINT(1) NOT NULL DEFAULT 0,
  FOREIGN KEY (seller_account_id) REFERENCES seller_accounts(id)
);

CREATE TABLE seller_order_timelines (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  order_id CHAR(36) NOT NULL,
  status VARCHAR(80) NOT NULL,
  icon VARCHAR(40) NULL,
  occurred_at DATETIME NOT NULL,
  FOREIGN KEY (order_id) REFERENCES seller_orders(id)
);

CREATE TABLE seller_order_bundle_items (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  order_id CHAR(36) NOT NULL,
  title VARCHAR(255) NOT NULL,
  sku VARCHAR(64) NULL,
  thumbnail_url VARCHAR(500) NOT NULL,
  FOREIGN KEY (order_id) REFERENCES seller_orders(id)
);

CREATE TABLE seller_conversations (
  id CHAR(36) PRIMARY KEY,
  buyer_id VARCHAR(80) NOT NULL,
  buyer_name VARCHAR(120) NOT NULL,
  buyer_username VARCHAR(120) NOT NULL,
  buyer_avatar VARCHAR(500) NULL,
  item_id VARCHAR(120) NOT NULL,
  item_title VARCHAR(255) NOT NULL,
  item_thumbnail VARCHAR(500) NOT NULL,
  item_price DECIMAL(10,2) NOT NULL,
  last_message TEXT NOT NULL,
  last_message_time DATETIME NOT NULL,
  unread_count INT NOT NULL DEFAULT 0,
  seller_account_id CHAR(36) NOT NULL,
  status VARCHAR(30) NOT NULL,
  has_label TINYINT(1) NOT NULL DEFAULT 0,
  FOREIGN KEY (seller_account_id) REFERENCES seller_accounts(id)
);

CREATE TABLE seller_messages (
  id CHAR(36) PRIMARY KEY,
  conversation_id CHAR(36) NOT NULL,
  sender_id VARCHAR(80) NOT NULL,
  sender_name VARCHAR(120) NOT NULL,
  sender_avatar VARCHAR(500) NULL,
  content TEXT NOT NULL,
  sent_at DATETIME NOT NULL,
  is_me TINYINT(1) NOT NULL DEFAULT 0,
  image_url VARCHAR(500) NULL,
  original_language VARCHAR(40) NULL,
  FOREIGN KEY (conversation_id) REFERENCES seller_conversations(id)
);

CREATE TABLE seller_offers (
  id CHAR(36) PRIMARY KEY,
  conversation_id CHAR(36) NOT NULL,
  sender_id VARCHAR(80) NOT NULL,
  sender_name VARCHAR(120) NOT NULL,
  sender_avatar VARCHAR(500) NULL,
  amount DECIMAL(10,2) NOT NULL,
  status VARCHAR(20) NOT NULL,
  sent_at DATETIME NOT NULL,
  is_me TINYINT(1) NOT NULL DEFAULT 0,
  message TEXT NULL,
  parent_offer_id CHAR(36) NULL,
  FOREIGN KEY (conversation_id) REFERENCES seller_conversations(id)
);

CREATE TABLE seller_system_events (
  id CHAR(36) PRIMARY KEY,
  conversation_id CHAR(36) NOT NULL,
  event_type VARCHAR(30) NOT NULL,
  event_data JSON NULL,
  occurred_at DATETIME NOT NULL,
  FOREIGN KEY (conversation_id) REFERENCES seller_conversations(id)
);

CREATE TABLE seller_notifications (
  id CHAR(36) PRIMARY KEY,
  kind VARCHAR(30) NOT NULL,
  title VARCHAR(255) NOT NULL,
  details TEXT NOT NULL,
  seller_account_id CHAR(36) NOT NULL,
  created_at DATETIME NOT NULL,
  FOREIGN KEY (seller_account_id) REFERENCES seller_accounts(id)
);

CREATE TABLE seller_favorites (
  id CHAR(36) PRIMARY KEY,
  item_id VARCHAR(120) NOT NULL,
  item_title VARCHAR(255) NOT NULL,
  item_sku VARCHAR(64) NULL,
  item_price DECIMAL(10,2) NOT NULL,
  item_thumbnail VARCHAR(500) NOT NULL,
  seller_account_id CHAR(36) NOT NULL,
  user_handle VARCHAR(120) NOT NULL,
  user_name VARCHAR(120) NOT NULL,
  created_at DATETIME NOT NULL,
  FOREIGN KEY (seller_account_id) REFERENCES seller_accounts(id)
);





Voici une description claire de chaque module + la liste des fichiers à créer (exemples de chemins). Dis‑moi si tu veux que je commence par un module précis.

Auth & Rôles – connexion, permissions admin/vendeur/client

User.php
Role.php
Permission.php
AuthController.php
RoleMiddleware.php
xxxx_create_users_table.php
xxxx_create_roles_table.php
api.php
Login.tsx
Register.tsx
auth.ts
Boutiques Vendeurs – profil boutique, branding, policies

Shop.php
ShopController.php
xxxx_create_shops_table.php
ShopCreate.tsx
ShopEdit.tsx
ShopPublic.tsx
ShopHeader.tsx
shops.ts
Produits – CRUD produits, prix, photos, variantes

Product.php
ProductVariant.php
ProductImage.php
ProductController.php
xxxx_create_products_table.php
xxxx_create_product_variants_table.php
xxxx_create_product_images_table.php
ProductList.tsx
ProductForm.tsx
ProductDetail.tsx
products.ts
Catégories & Attributs – taxonomie et filtres

Category.php
Attribute.php
CategoryController.php
xxxx_create_categories_table.php
xxxx_create_attributes_table.php
Categories.tsx
categories.ts
Stock – quantité, alertes stock bas

Inventory.php
InventoryController.php
xxxx_create_inventories_table.php
Inventory.tsx
inventory.ts
Abonnements & Quotas – limite produits par plan

Subscription.php
Plan.php
ProductPolicy.php
xxxx_create_plans_table.php
xxxx_create_subscriptions_table.php
Billing.tsx
billing.ts
Catalogue Public – listing produits + filtres

CatalogController.php
web.php
Catalog.tsx
Filters.tsx
catalog.ts
Panier & Checkout – panier, adresse, paiement

Cart.php
Order.php
CheckoutController.php
xxxx_create_carts_table.php
xxxx_create_orders_table.php
Cart.tsx
Checkout.tsx
checkout.ts
Paiements – Stripe/PayPal + split payouts

PaymentService.php
PaymentController.php
api.php
payments.ts
Commandes & Expédition – statuts, tracking, retours

Shipment.php
OrderController.php
ShipmentController.php
xxxx_create_shipments_table.php
Orders.tsx
OrderDetail.tsx
orders.ts
Avis & Notes – reviews produits/boutiques

Review.php
ReviewController.php
xxxx_create_reviews_table.php
ReviewList.tsx
reviews.ts
Messagerie – chat client‑vendeur

Conversation.php
Message.php
MessageController.php
xxxx_create_conversations_table.php
xxxx_create_messages_table.php
Messages.tsx
messages.ts
Notifications – email + in‑app

Notification.php
OrderPlaced.php
NotificationController.php
xxxx_create_notifications_table.php
NotificationList.tsx
Promotions & Coupons – réductions, campagnes

Coupon.php
CouponController.php
xxxx_create_coupons_table.php
Coupons.tsx
coupons.ts
Admin & Modération – gestion vendeurs, produits, litiges

UserAdminController.php
ProductAdminController.php
DisputeController.php
Dashboard.tsx
Recherche & SEO – indexation, slugs

SearchService.php
Slug.php
xxxx_create_slugs_table.php
search.ts
CMS & Pages légales – FAQ, CGU, retours

Page.php
PageController.php
xxxx_create_pages_table.php
Page.tsx
Analytics – stats vendeur/admin

AnalyticsService.php
AnalyticsController.php
Analytics.tsx
analytics.ts
Médias & Uploads – images, storage

MediaService.php
MediaController.php
filesystems.php
Uploader.tsx

Voici une arborescence complète, en séparant backend/ (Laravel) et src/ (frontend). C’est une structure “propre” pour un e‑commerce multi‑vendeurs.

Backend (Laravel)
backend/
  app/
    Models/
      User.php
      Role.php
      Permission.php
      Shop.php
      Product.php
      ProductVariant.php
      ProductImage.php
      Category.php
      Attribute.php
      Inventory.php
      Plan.php
      Subscription.php
      Listing.php
      Order.php
      OrderItem.php
      Shipment.php
      Cart.php
      CartItem.php
      Conversation.php
      Message.php
      Offer.php
      Review.php
      Notification.php
      Coupon.php
      Dispute.php
      Payout.php
      Page.php
      Slug.php
    Http/
      Controllers/
        AuthController.php
        ShopController.php
        ProductController.php
        CategoryController.php
        InventoryController.php
        PlanController.php
        SubscriptionController.php
        ListingController.php
        OrderController.php
        ShipmentController.php
        CartController.php
        CheckoutController.php
        ConversationController.php
        MessageController.php
        OfferController.php
        ReviewController.php
        NotificationController.php
        CouponController.php
        DisputeController.php
        PayoutController.php
        PageController.php
        SearchController.php
        AnalyticsController.php
        Admin/
          AdminUserController.php
          AdminShopController.php
          AdminProductController.php
          AdminOrderController.php
          AdminDisputeController.php
      Middleware/
        RoleMiddleware.php
        ShopOwnerMiddleware.php
      Requests/
        Auth/
          LoginRequest.php
          RegisterRequest.php
        Product/
          StoreProductRequest.php
          UpdateProductRequest.php
        Shop/
          StoreShopRequest.php
          UpdateShopRequest.php
      Policies/
        ProductPolicy.php
        OrderPolicy.php
    Services/
      PaymentService.php
      SearchService.php
      AnalyticsService.php
      MediaService.php
  database/
    migrations/
      xxxx_create_users_table.php
      xxxx_create_roles_table.php
      xxxx_create_permissions_table.php
      xxxx_create_shops_table.php
      xxxx_create_categories_table.php
      xxxx_create_attributes_table.php
      xxxx_create_products_table.php
      xxxx_create_product_variants_table.php
      xxxx_create_product_images_table.php
      xxxx_create_inventories_table.php
      xxxx_create_plans_table.php
      xxxx_create_subscriptions_table.php
      xxxx_create_listings_table.php
      xxxx_create_carts_table.php
      xxxx_create_cart_items_table.php
      xxxx_create_orders_table.php
      xxxx_create_order_items_table.php
      xxxx_create_shipments_table.php
      xxxx_create_conversations_table.php
      xxxx_create_messages_table.php
      xxxx_create_offers_table.php
      xxxx_create_reviews_table.php
      xxxx_create_notifications_table.php
      xxxx_create_coupons_table.php
      xxxx_create_disputes_table.php
      xxxx_create_payouts_table.php
      xxxx_create_pages_table.php
      xxxx_create_slugs_table.php
  routes/
    api.php
    web.php

Frontend (React)
src/
  pages/
    Auth/
      Login.tsx
      Register.tsx
      ForgotPassword.tsx
    Shop/
      ShopCreate.tsx
      ShopEdit.tsx
      ShopPublic.tsx
    Product/
      ProductList.tsx
      ProductForm.tsx
      ProductDetail.tsx
    Catalog/
      Catalog.tsx
      CategoryPage.tsx
    Cart/
      Cart.tsx
    Checkout/
      Checkout.tsx
      Payment.tsx
      Success.tsx
    Orders/
      Orders.tsx
      OrderDetail.tsx
    Messages/
      Messages.tsx
      Conversation.tsx
    Reviews/
      Reviews.tsx
    Notifications/
      Notifications.tsx
    Settings/
      Billing.tsx
      Profile.tsx
      Security.tsx
    Admin/
      Dashboard.tsx
      Users.tsx
      Shops.tsx
      Products.tsx
      Orders.tsx
      Disputes.tsx
    CMS/
      Page.tsx
    Analytics/
      Analytics.tsx
  components/
    Auth/
      AuthForm.tsx
    Shop/
      ShopHeader.tsx
      ShopCard.tsx
    Product/
      ProductCard.tsx
      ProductGallery.tsx
      ProductFormFields.tsx
    Catalog/
      Filters.tsx
      SortBar.tsx
    Cart/
      CartItem.tsx
      CartSummary.tsx
    Checkout/
      AddressForm.tsx
      PaymentForm.tsx
    Orders/
      OrderStatusBadge.tsx
    Messages/
      MessageList.tsx
      MessageComposer.tsx
    Reviews/
      ReviewList.tsx
      ReviewForm.tsx
    Notifications/
      NotificationList.tsx
    Admin/
      AdminTable.tsx
    Common/
      Modal.tsx
      ConfirmDialog.tsx
      EmptyState.tsx
  services/
    api.ts
    auth.ts
    shops.ts
    products.ts
    catalog.ts
    cart.ts
    checkout.ts
    orders.ts
    messages.ts
    reviews.ts
    notifications.ts
    billing.ts
    admin.ts
    analytics.ts
  hooks/
    useAuth.ts
    useCart.ts
    useShop.ts
  lib/
    validators/
      auth.ts
      product.ts
      shop.ts
  styles/
    app.css
